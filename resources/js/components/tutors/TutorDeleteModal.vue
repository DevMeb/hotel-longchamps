<template>
    <div v-if="show" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
      <!-- Overlay cliquable pour fermer la modale -->
      <div @click.self="cancelDelete" class="absolute inset-0"></div>
  
      <!-- Bo√Æte de dialogue -->
      <div class="bg-white p-6 rounded-lg shadow-lg w-[24rem] animate-fade-in transform transition-transform scale-95">
        <!-- En-t√™te -->
        <div class="flex items-center space-x-3">
          <span class="text-red-600 text-2xl">‚ö†Ô∏è</span>
          <h2 class="text-lg font-semibold text-red-600">Confirmation de suppression</h2>
        </div>
  
        <!-- Contenu -->
        <p class="text-gray-700 mt-3">
          √ätes-vous s√ªr de vouloir supprimer 
          <strong class="text-gray-900">{{ tutor?.last_name.toUpperCase() }} {{ tutor?.first_name }}</strong> ?
        </p>
        <p class="text-sm text-gray-500 mt-2">Cette action est <span class="font-semibold text-red-500">irr√©versible</span>.</p>
  
        <!-- Actions -->
        <div class="flex justify-end mt-6 space-x-3">
          <button 
            @click="cancelDelete"
            class="px-4 py-2 text-gray-700 border border-gray-300 rounded-md hover:bg-gray-100 transition"
          >
            Annuler
          </button>
          <button 
            @click="confirmDelete"
            class="px-4 py-2 bg-red-500 text-white rounded-md hover:bg-red-600 transition flex items-center"
          >
            <span class="mr-2">üóëÔ∏è</span> Supprimer
          </button>
        </div>
      </div>
    </div>
  </template>
  
  <script setup>
  defineProps({
    show: Boolean,
    tutor: Object,
  });
  
  const emit = defineEmits(["confirm", "cancel"]);
  
  // ‚úÖ Fermer avec la touche √âchap pour plus d'accessibilit√©
  window.addEventListener("keydown", (event) => {
    if (event.key === "Escape") {
      cancelDelete();
    }
  });
  
  const cancelDelete = () => {
    emit("cancel");
  };
  
  const confirmDelete = () => {
    emit("confirm");
  };
  </script>
  
  <style scoped>
  /* Animation d'apparition fluide */
  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: scale(0.9);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }
  
  .animate-fade-in {
    animation: fadeIn 0.2s ease-out forwards;
  }
  </style>
  